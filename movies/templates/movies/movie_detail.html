{% load static %}
<!doctype html>
<html>
  <head>
    <title>{{ movie.title }}</title>
    <link rel="stylesheet" href="{% static 'movies/style.css' %}" />
  </head>
  <body>
    <div class="movie-detail">
      <img src="{{ movie.poster.url }}" class="detail-poster" />

      <div class="detail-info">
        <h1>{{ movie.title }}</h1>

        <p><strong>Genre:</strong> {{ movie.genre }}</p>
        <p><strong>Director:</strong> {{ movie.director }}</p>
        <p><strong>Description:</strong></p>
        <p>{{ movie.description }}</p>

        <h3>Rate this movie</h3>

        <div
          class="star-rating"
          id="star-rating"
          data-user-rating="{{ user_rating|default:0 }}"
        >
          {% for i in "12345" %}
          <span class="star">★</span>
          {% endfor %}
        </div>

        <form
          method="post"
          action="{% url 'rate_movie' movie.id %}"
          id="rating-form"
        >
          {% csrf_token %}
          <input type="hidden" name="score" id="rating-value" />
        </form>
        <a href="{% url 'movie_list' %}" class="back-link">← Back to movies</a>
      </div>
    </div>
    <script src="{% static 'movies/rating.js' %}"></script>
  </body>
</html>
